<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staten Island Parks by Zipcode</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    {% include 'nav_bar.html' %}
    
    <div class="container mt-4">
        <h2>Staten Island Parks Acreage by ZIP Code</h2>
        {% set bar_width = 40 %}
{% set spacing = 20 %}
{% set num_bars = zip_acreage | length %}
{% set svg_width = 50 + num_bars * (bar_width + spacing) %}
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 {{ svg_width }} 250" width="100%" height="100%">

            <style>
                .bar { fill: #4CAF50; }
                .label { font-size: 12px; text-anchor: middle; fill: black; }
                .axis { stroke: black; stroke-width: 2; }
                .tick { stroke: black; stroke-width: 1; }
                .tick-label { font-size: 10px; text-anchor: end; fill: black; }
                .axis-label { font-size: 12px; text-anchor: middle; fill: black; }
            </style>
    
            
            <line class="axis" x1="40" y1="200" x2="750" y2="200"/>
            <line class="axis" x1="40" y1="0" x2="40" y2="200"/>
            <line class="axis" x1="40" y1="200" x2="{{ svg_width - 50 }}" y2="200"/>
           
            <text class="axis-label" x="-100" y="100" transform="rotate(-90, -100, 100)">Park Acreage</text>
            
           
            {% set max_val = zip_acreage.values() | max %}
            {% set num_ticks = 5 %}
            {% for i in range(num_ticks + 1) %}
                {% set value = (i / num_ticks) * max_val %}
                {% set y = 200 - (i / num_ticks) * 150 %}
                <line class="tick" x1="35" y1="{{ y }}" x2="40" y2="{{ y }}"/>
                <text class="tick-label" x="33" y="{{ y + 4 }}">{{ "%.1f"|format(value) }}</text>
            {% endfor %}
    
            {% set bar_width = 40 %}
            {% set spacing = 20 %}
            {% for zip, value in zip_acreage.items() %}
                {% set i = loop.index0 %}
                {% set x = 50 + i * (bar_width + spacing) %}
                {% set height = (value / max_val) * 150 %}
                {% set y = 200 - height %}
                <rect class="bar" x="{{ x }}" y="{{ y }}" width="{{ bar_width }}" height="{{ height }}"/>
                <text class="label" x="{{ x + bar_width / 2 }}" y="220">{{ zip }}</text>
            {% endfor %}
        </svg>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <footer class="text-center mt-5 p-3 border-top" style="font-size: 14px; color: #555;">
        <p>
          This project investigates park space distribution across New York City boroughs using acreage data by ZIP code.
          Data sourced from the <a href="https://data.cityofnewyork.us/Recreation/Parks-Properties/enfh-gkve/about_data" target="_blank">NYC Parks Properties Dataset</a>.
        </p>
      </footer>
      
</body>
</html>